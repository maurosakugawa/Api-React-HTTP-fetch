{"ast":null,"code":"var _jsxFileName = \"/home/mauro/\\xC1rea de Trabalho/Projeto07-ReactHTTP-Reques/src/Form.js\";\nimport React from 'react';\nimport Select from 'react-select';\nimport Async, { makeAsyncSelect } from 'react-select/async'; // import Tabela from './Tabela';\n\nexport default class Form extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      nome: '',\n      cidadeSelecionada: '',\n      lista: [],\n      cidade: ''\n    };\n  }\n\n  componentDidMount() {\n    fetch(`http://servicos.cptec.inpe.br/XML/listaCidades?city=${this.state.nome}`, {\n      method: \"GET\"\n    }, {\n      mode: 'no-cors',\n      method: 'GET',\n      headers: new Headers({\n        'Accept': 'application/xml',\n        'content-type': 'application/x-www-form-urlencoded',\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, PUT',\n        'Access-Control-Allow-Headers': 'Content-Type'\n      })\n    }).then(response => response.arrayBuffer()).then(buffer => {\n      let decoder = new TextDecoder(\"iso-8859-1\");\n      return decoder.decode(buffer);\n    }).then(str => {\n      console.log(\"str: \" + str);\n      let parser = new window.DOMParser();\n      let xml = parser.parseFromString(str, \"text/xml\");\n      let cidades = xml.getElementsByTagName('cidades')[0]; // Obter a tag cidades\n      //          let lista = [];\n\n      cidades.childNodes.forEach((obj, index) => {\n        this.state.lista.push(obj.childNodes[0].childNodes[0].nodeValue);\n      });\n      console.log(\"lista: \" + lista);\n    }).catch(erro => console.log(erro));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.cidadeSelecionada,\n      onChange: e => this.setState({\n        selectedTeam: e.target.value,\n        validationError: e.target.value === \"\" ? \"You must select your favourite team\" : \"\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, this.state.lista.map(role => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: role.RoleId,\n        value: role.RoleId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 28\n        }\n      }, role.RoleName);\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, this.state.validationError));\n  }\n\n}","map":{"version":3,"sources":["/home/mauro/Área de Trabalho/Projeto07-ReactHTTP-Reques/src/Form.js"],"names":["React","Select","Async","makeAsyncSelect","Form","Component","constructor","state","nome","cidadeSelecionada","lista","cidade","componentDidMount","fetch","method","mode","headers","Headers","then","response","arrayBuffer","buffer","decoder","TextDecoder","decode","str","console","log","parser","window","DOMParser","xml","parseFromString","cidades","getElementsByTagName","childNodes","forEach","obj","index","push","nodeValue","catch","erro","render","e","setState","selectedTeam","target","value","validationError","map","role","RoleId","RoleName"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Select from 'react-select';\nimport Async, { makeAsyncSelect } from 'react-select/async';\n// import Tabela from './Tabela';\n\nexport default class Form extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            nome: '',\n            cidadeSelecionada: '',\n            lista: [],\n            cidade: ''\n        };\n    }\n\n    componentDidMount() {\n        fetch(`http://servicos.cptec.inpe.br/XML/listaCidades?city=${this.state.nome}`,{method:\"GET\"}, {\n            mode: 'no-cors',\n            method: 'GET',\n            headers: new Headers({\n                'Accept': 'application/xml',\n                'content-type': 'application/x-www-form-urlencoded',\n                'Access-Control-Allow-Origin': '*',\n                'Access-Control-Allow-Methods': 'GET, POST, PUT',\n                'Access-Control-Allow-Headers': 'Content-Type',\n            })\n        })\n        .then(response => response.arrayBuffer())\n        .then(buffer => {\n            let decoder = new TextDecoder(\"iso-8859-1\");\n            return decoder.decode(buffer);\n        })\n        .then(str => { console.log(\"str: \" + str);\n            let parser = new window.DOMParser()\n            let xml = parser.parseFromString(str, \"text/xml\");\n            let cidades = xml.getElementsByTagName('cidades')[0]; // Obter a tag cidades\n  //          let lista = [];\n            cidades.childNodes.forEach((obj, index) => {\n                this.state.lista.push(obj.childNodes[0].childNodes[0].nodeValue)\n            });\n            console.log(\"lista: \" + lista);\n        })\n        .catch(erro => console.log(erro) );\n    }\n    \n\n    render() {\n        return (\n          <div>\n            <select\n              value={this.state.cidadeSelecionada}\n              onChange={e =>\n                this.setState({\n                  selectedTeam: e.target.value,\n                  validationError:\n                    e.target.value === \"\"\n                      ? \"You must select your favourite team\"\n                      : \"\"\n                })\n              }\n            >\n                {this.state.lista.map((role) => {\n                    return <option key={role.RoleId} value={role.RoleId}>\n                                {role.RoleName}\n                            </option>\n                })}\n            </select>\n            <div>\n              {this.state.validationError}\n            </div>\n          </div>\n        );\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}